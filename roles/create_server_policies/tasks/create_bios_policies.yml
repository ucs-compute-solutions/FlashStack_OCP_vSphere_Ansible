---
- name: "Configure BIOS Policies"
  vars:
    api_info: &api_info
      api_private_key: "{{ api_private_key }}"
      api_key_id: "{{ api_key_id }}"
      api_uri: "{{ api_uri | default(omit) }}"
      validate_certs: "{{ validate_certs | default(omit) }}"
      state: "{{ state | default(omit) }}"
  block:
  - name: "Configure Intel M6 Virtualization BIOS Policy"
    cisco.intersight.intersight_rest_api:
      <<: *api_info
      resource_path: /bios/Policies
      query_params:
        $filter: "Name eq '{{ name_of_bios_policy }}'"
      api_body: {
          "Name": "{{ name_of_bios_policy }}",
          "Description": "{{ description_of_bios_policy }}",

          "Organization": {
             "Moid": "{{ intersight_org.api_response.Moid }}"
           },
          Tags: [{Key: "configmode", Value: "ansible"},{Key: "prefix", Value: "{{ prefix }}"}],
          "AcsControlGpu1state": "platform-default",
          "AcsControlGpu2state": "platform-default",
          "AcsControlGpu3state": "platform-default",
          "AcsControlGpu4state": "platform-default",
          "AcsControlGpu5state": "platform-default",
          "AcsControlGpu6state": "platform-default",
          "AcsControlGpu7state": "platform-default",
          "AcsControlGpu8state": "platform-default",
          "AcsControlSlot11state": "platform-default",
          "AcsControlSlot12state": "platform-default",
          "AcsControlSlot13state": "platform-default",
          "AcsControlSlot14state": "platform-default",
          "AdjacentCacheLinePrefetch": "platform-default",
          "AdvancedMemTest": "platform-default",
          "AllUsbDevices": "platform-default",
          "Altitude": "platform-default",
          "AspmSupport": "platform-default",
          "AssertNmiOnPerr": "platform-default",
          "AssertNmiOnSerr": "platform-default",
          "AutoCcState": "platform-default",
          "AutonumousCstateEnable": "platform-default",
          "BaudRate": "platform-default",
          "BmeDmaMitigation": "platform-default",
          "BootOptionNumRetry": "platform-default",
          "BootOptionReCoolDown": "platform-default",
          "BootOptionRetry": "platform-default",
          "BootPerformanceMode": "platform-default",
          "BurstAndPostponedRefresh": "platform-default",
          "C1autoDemotion": "platform-default",
          "C1autoUnDemotion": "platform-default",
          "CbsCmnApbdis": "platform-default",
          "CbsCmnCpuCpb": "platform-default",
          "CbsCmnCpuGenDowncoreCtrl": "platform-default",
          "CbsCmnCpuGlobalCstateCtrl": "platform-default",
          "CbsCmnCpuL1streamHwPrefetcher": "platform-default",
          "CbsCmnCpuL2streamHwPrefetcher": "platform-default",
          "CbsCmnCpuSmee": "platform-default",
          "CbsCmnCpuStreamingStoresCtrl": "platform-default",
          "CbsCmnDeterminismSlider": "platform-default",
          "CbsCmnEfficiencyModeEn": "platform-default",
          "CbsCmnFixedSocPstate": "platform-default",
          "CbsCmnGnbNbIommu": "platform-default",
          "CbsCmnGnbSmuDfCstates": "platform-default",
          "CbsCmnGnbSmucppc": "platform-default",
          "CbsCmnMemCtrlBankGroupSwapDdr4": "platform-default",
          "CbsCmnMemMapBankInterleaveDdr4": "platform-default",
          "CbsCmncTdpCtl": "platform-default",
          "CbsCpuCcdCtrlSsp": "platform-default",
          "CbsCpuCoreCtrl": "platform-default",
          "CbsCpuSmtCtrl": "platform-default",
          "CbsDbgCpuSnpMemCover": "platform-default",
          "CbsDbgCpuSnpMemSizeCover": "platform-default",
          "CbsDfCmnAcpiSratL3numa": "platform-default",
          "CbsDfCmnDramNps": "platform-default",
          "CbsDfCmnMemIntlv": "platform-default",
          "CbsDfCmnMemIntlvSize": "platform-default",
          "CbsSevSnpSupport": "platform-default",
          "CdnEnable": "enabled",
          "CdnSupport": "platform-default",
          "ChannelInterLeave": "platform-default",
          "CiscoAdaptiveMemTraining": "platform-default",
          "CiscoDebugLevel": "platform-default",
          "CiscoOpromLaunchOptimization": "platform-default",
          "CiscoXgmiMaxSpeed": "platform-default",
          "CkeLowPolicy": "platform-default",
          "ClosedLoopThermThrotl": "platform-default",
          "CmciEnable": "platform-default",
          "ConfigTdp": "platform-default",
          "ConfigTdpLevel": "platform-default",
          "ConsoleRedirection": "platform-default",
          "CoreMultiProcessing": "platform-default",
          "CpuEnergyPerformance": "platform-default",
          "CpuFrequencyFloor": "platform-default",
          "CpuPerfEnhancement": "Auto",
          "CpuPerformance": "platform-default",
          "CpuPowerManagement": "platform-default",
          "CrQos": "platform-default",
          "CrfastgoConfig": "platform-default",
          "DcpmmFirmwareDowngrade": "platform-default",
          "DemandScrub": "platform-default",
          "DirectCacheAccess": "platform-default",
          "DramClockThrottling": "platform-default",
          "DramRefreshRate": "platform-default",
          "DramSwThermalThrottling": "platform-default",
          "EadrSupport": "platform-default",
          "EdpcEn": "platform-default",
          "EnableClockSpreadSpec": "platform-default",
          "EnableMktme": "platform-default",
          "EnableSgx": "platform-default",
          "EnableTme": "platform-default",
          "EnergyEfficientTurbo": "enabled",
          "EngPerfTuning": "platform-default",
          "EnhancedIntelSpeedStepTech": "platform-default",
          "EpochUpdate": "platform-default",
          "EppEnable": "platform-default",
          "EppProfile": "platform-default",
          "ExecuteDisableBit": "platform-default",
          "ExtendedApic": "platform-default",
          "FlowControl": "platform-default",
          "Frb2enable": "platform-default",
          "HardwarePrefetch": "platform-default",
          "HwpmEnable": "platform-default",
          "ImcInterleave": "platform-default",
          "IntelDynamicSpeedSelect": "platform-default",
          "IntelHyperThreadingTech": "platform-default",
          "IntelSpeedSelect": "platform-default",
          "IntelTurboBoostTech": "platform-default",
          "IntelVirtualizationTechnology": "platform-default",
          "IntelVtForDirectedIo": "platform-default",
          "IntelVtdCoherencySupport": "platform-default",
          "IntelVtdInterruptRemapping": "platform-default",
          "IntelVtdPassThroughDmaSupport": "platform-default",
          "IntelVtdatsSupport": "platform-default",
          "IohErrorEnable": "platform-default",
          "IohResource": "platform-default",
          "IpPrefetch": "platform-default",
          "Ipv4http": "platform-default",
          "Ipv4pxe": "platform-default",
          "Ipv6http": "platform-default",
          "Ipv6pxe": "platform-default",
          "KtiPrefetch": "platform-default",
          "LegacyOsRedirection": "platform-default",
          "LegacyUsbSupport": "platform-default",
          "LlcAlloc": "platform-default",
          "LlcPrefetch": "platform-default",
          "LomPort0state": "platform-default",
          "LomPort1state": "platform-default",
          "LomPort2state": "platform-default",
          "LomPort3state": "platform-default",
          "LomPortsAllState": "platform-default",
          "LvDdrMode": "platform-default",
          "MakeDeviceNonBootable": "platform-default",
          "MemoryBandwidthBoost": "platform-default",
          "MemoryInterLeave": "platform-default",
          "MemoryMappedIoAbove4gb": "platform-default",
          "MemoryRefreshRate": "platform-default",
          "MemorySizeLimit": "platform-default",
          "MemoryThermalThrottling": "platform-default",
          "MirroringMode": "platform-default",
          "MmcfgBase": "platform-default",
          "NetworkStack": "platform-default",
          "NumaOptimized": "platform-default",
          "NvmdimmPerformConfig": "Balanced Profile",
          "Onboard10gbitLom": "platform-default",
          "OnboardGbitLom": "platform-default",
          "OnboardScuStorageSupport": "platform-default",
          "OnboardScuStorageSwStack": "platform-default",
          "OperationMode": "platform-default",
          "OsBootWatchdogTimer": "platform-default",
          "OsBootWatchdogTimerPolicy": "platform-default",
          "OsBootWatchdogTimerTimeout": "platform-default",
          "OutOfBandMgmtPort": "platform-default",
          "PackageCstateLimit": "platform-default",
          "PanicHighWatermark": "platform-default",
          "PartialCacheLineSparing": "platform-default",
          "PartialMirrorModeConfig": "platform-default",
          "PartialMirrorPercent": "platform-default",
          "PartialMirrorValue1": "platform-default",
          "PartialMirrorValue2": "platform-default",
          "PartialMirrorValue3": "platform-default",
          "PartialMirrorValue4": "platform-default",
          "PatrolScrub": "platform-default",
          "PatrolScrubDuration": "platform-default",
          "PcIeRasSupport": "platform-default",
          "PcIeSsdHotPlugSupport": "platform-default",
          "PchUsb30mode": "platform-default",
          "PciOptionRoMs": "platform-default",
          "PciRomClp": "platform-default",
          "PcieAriSupport": "platform-default",
          "PciePllSsc": "platform-default",
          "PcieSlotMraid1linkSpeed": "platform-default",
          "PcieSlotMraid1optionRom": "platform-default",
          "PcieSlotMraid2linkSpeed": "platform-default",
          "PcieSlotMraid2optionRom": "platform-default",
          "PcieSlotMstorraidLinkSpeed": "platform-default",
          "PcieSlotMstorraidOptionRom": "platform-default",
          "PcieSlotNvme1linkSpeed": "platform-default",
          "PcieSlotNvme1optionRom": "platform-default",
          "PcieSlotNvme2linkSpeed": "platform-default",
          "PcieSlotNvme2optionRom": "platform-default",
          "PcieSlotNvme3linkSpeed": "platform-default",
          "PcieSlotNvme3optionRom": "platform-default",
          "PcieSlotNvme4linkSpeed": "platform-default",
          "PcieSlotNvme4optionRom": "platform-default",
          "PcieSlotNvme5linkSpeed": "platform-default",
          "PcieSlotNvme5optionRom": "platform-default",
          "PcieSlotNvme6linkSpeed": "platform-default",
          "PcieSlotNvme6optionRom": "platform-default",
          "PcieSlotsCdnEnable": "platform-default",
          "PopSupport": "platform-default",
          "PostErrorPause": "platform-default",
          "PostPackageRepair": "platform-default",
          "ProcessorC1e": "enabled",
          "ProcessorC3report": "platform-default",
          "ProcessorC6report": "enabled",
          "ProcessorCstate": "platform-default",
          "Psata": "platform-default",
          "PstateCoordType": "platform-default",
          "PuttyKeyPad": "platform-default",
          "PwrPerfTuning": "platform-default",
          "QpiLinkFrequency": "platform-default",
          "QpiLinkSpeed": "platform-default",
          "QpiSnoopMode": "platform-default",
          "RankInterLeave": "platform-default",
          "RedirectionAfterPost": "platform-default",
          "SataModeSelect": "platform-default",
          "SelectMemoryRasConfiguration": "platform-default",
          "SelectPprType": "platform-default",
          "SerialPortAenable": "platform-default",
          "Sev": "platform-default",
          "SgxAutoRegistrationAgent": "platform-default",
          "SgxEpoch0": "platform-default",
          "SgxEpoch1": "platform-default",
          "SgxFactoryReset": "platform-default",
          "SgxLePubKeyHash0": "platform-default",
          "SgxLePubKeyHash1": "platform-default",
          "SgxLePubKeyHash2": "platform-default",
          "SgxLePubKeyHash3": "platform-default",
          "SgxLeWr": "platform-default",
          "SgxPackageInfoInBandAccess": "platform-default",
          "SgxQos": "platform-default",
          "Sha1pcrBank": "platform-default",
          "Sha256pcrBank": "platform-default",
          "SinglePctlEnable": "platform-default",
          "Slot10linkSpeed": "platform-default",
          "Slot10state": "platform-default",
          "Slot11linkSpeed": "platform-default",
          "Slot11state": "platform-default",
          "Slot12linkSpeed": "platform-default",
          "Slot12state": "platform-default",
          "Slot13state": "platform-default",
          "Slot14state": "platform-default",
          "Slot1linkSpeed": "platform-default",
          "Slot1state": "platform-default",
          "Slot2linkSpeed": "platform-default",
          "Slot2state": "platform-default",
          "Slot3linkSpeed": "platform-default",
          "Slot3state": "platform-default",
          "Slot4linkSpeed": "platform-default",
          "Slot4state": "platform-default",
          "Slot5linkSpeed": "platform-default",
          "Slot5state": "platform-default",
          "Slot6linkSpeed": "platform-default",
          "Slot6state": "platform-default",
          "Slot7linkSpeed": "platform-default",
          "Slot7state": "platform-default",
          "Slot8linkSpeed": "platform-default",
          "Slot8state": "platform-default",
          "Slot9linkSpeed": "platform-default",
          "Slot9state": "platform-default",
          "SlotFlomLinkSpeed": "platform-default",
          "SlotFrontNvme10linkSpeed": "platform-default",
          "SlotFrontNvme10optionRom": "platform-default",
          "SlotFrontNvme11linkSpeed": "platform-default",
          "SlotFrontNvme11optionRom": "platform-default",
          "SlotFrontNvme12linkSpeed": "platform-default",
          "SlotFrontNvme12optionRom": "platform-default",
          "SlotFrontNvme13optionRom": "platform-default",
          "SlotFrontNvme14optionRom": "platform-default",
          "SlotFrontNvme15optionRom": "platform-default",
          "SlotFrontNvme16optionRom": "platform-default",
          "SlotFrontNvme17optionRom": "platform-default",
          "SlotFrontNvme18optionRom": "platform-default",
          "SlotFrontNvme19optionRom": "platform-default",
          "SlotFrontNvme1linkSpeed": "platform-default",
          "SlotFrontNvme1optionRom": "platform-default",
          "SlotFrontNvme20optionRom": "platform-default",
          "SlotFrontNvme21optionRom": "platform-default",
          "SlotFrontNvme22optionRom": "platform-default",
          "SlotFrontNvme23optionRom": "platform-default",
          "SlotFrontNvme24optionRom": "platform-default",
          "SlotFrontNvme2linkSpeed": "platform-default",
          "SlotFrontNvme2optionRom": "platform-default",
          "SlotFrontNvme3linkSpeed": "platform-default",
          "SlotFrontNvme3optionRom": "platform-default",
          "SlotFrontNvme4linkSpeed": "platform-default",
          "SlotFrontNvme4optionRom": "platform-default",
          "SlotFrontNvme5linkSpeed": "platform-default",
          "SlotFrontNvme5optionRom": "platform-default",
          "SlotFrontNvme6linkSpeed": "platform-default",
          "SlotFrontNvme6optionRom": "platform-default",
          "SlotFrontNvme7linkSpeed": "platform-default",
          "SlotFrontNvme7optionRom": "platform-default",
          "SlotFrontNvme8linkSpeed": "platform-default",
          "SlotFrontNvme8optionRom": "platform-default",
          "SlotFrontNvme9linkSpeed": "platform-default",
          "SlotFrontNvme9optionRom": "platform-default",
          "SlotFrontSlot5linkSpeed": "platform-default",
          "SlotFrontSlot6linkSpeed": "platform-default",
          "SlotGpu1state": "platform-default",
          "SlotGpu2state": "platform-default",
          "SlotGpu3state": "platform-default",
          "SlotGpu4state": "platform-default",
          "SlotGpu5state": "platform-default",
          "SlotGpu6state": "platform-default",
          "SlotGpu7state": "platform-default",
          "SlotGpu8state": "platform-default",
          "SlotHbaLinkSpeed": "platform-default",
          "SlotHbaState": "platform-default",
          "SlotLom1link": "platform-default",
          "SlotLom2link": "platform-default",
          "SlotMezzState": "platform-default",
          "SlotMlomLinkSpeed": "platform-default",
          "SlotMlomState": "platform-default",
          "SlotMraidLinkSpeed": "platform-default",
          "SlotMraidState": "platform-default",
          "SlotN10state": "platform-default",
          "SlotN11state": "platform-default",
          "SlotN12state": "platform-default",
          "SlotN13state": "platform-default",
          "SlotN14state": "platform-default",
          "SlotN15state": "platform-default",
          "SlotN16state": "platform-default",
          "SlotN17state": "platform-default",
          "SlotN18state": "platform-default",
          "SlotN19state": "platform-default",
          "SlotN1state": "platform-default",
          "SlotN20state": "platform-default",
          "SlotN21state": "platform-default",
          "SlotN22state": "platform-default",
          "SlotN23state": "platform-default",
          "SlotN24state": "platform-default",
          "SlotN2state": "platform-default",
          "SlotN3state": "platform-default",
          "SlotN4state": "platform-default",
          "SlotN5state": "platform-default",
          "SlotN6state": "platform-default",
          "SlotN7state": "platform-default",
          "SlotN8state": "platform-default",
          "SlotN9state": "platform-default",
          "SlotRaidLinkSpeed": "platform-default",
          "SlotRaidState": "platform-default",
          "SlotRearNvme1linkSpeed": "platform-default",
          "SlotRearNvme1state": "platform-default",
          "SlotRearNvme2linkSpeed": "platform-default",
          "SlotRearNvme2state": "platform-default",
          "SlotRearNvme3linkSpeed": "platform-default",
          "SlotRearNvme3state": "platform-default",
          "SlotRearNvme4linkSpeed": "platform-default",
          "SlotRearNvme4state": "platform-default",
          "SlotRearNvme5state": "platform-default",
          "SlotRearNvme6state": "platform-default",
          "SlotRearNvme7state": "platform-default",
          "SlotRearNvme8state": "platform-default",
          "SlotRiser1linkSpeed": "platform-default",
          "SlotRiser1slot1linkSpeed": "platform-default",
          "SlotRiser1slot2linkSpeed": "platform-default",
          "SlotRiser1slot3linkSpeed": "platform-default",
          "SlotRiser2linkSpeed": "platform-default",
          "SlotRiser2slot4linkSpeed": "platform-default",
          "SlotRiser2slot5linkSpeed": "platform-default",
          "SlotRiser2slot6linkSpeed": "platform-default",
          "SlotSasState": "platform-default",
          "SlotSsdSlot1linkSpeed": "platform-default",
          "SlotSsdSlot2linkSpeed": "platform-default",
          "Smee": "platform-default",
          "SmtMode": "platform-default",
          "Snc": "platform-default",
          "SnoopyModeFor2lm": "platform-default",
          "SnoopyModeForAd": "platform-default",
          "SparingMode": "platform-default",
          "SrIov": "platform-default",
          "StreamerPrefetch": "platform-default",
          "SvmMode": "platform-default",
          "TerminalType": "platform-default",
          "TpmControl": "platform-default",
          "TpmPendingOperation": "platform-default",
          "TpmSupport": "platform-default",
          "Tsme": "platform-default",
          "TxtSupport": "platform-default",
          "UcsmBootOrderRule": "platform-default",
          "UfsDisable": "platform-default",
          "UmaBasedClustering": "platform-default",
          "UpiLinkEnablement": "platform-default",
          "UpiPowerManagement": "platform-default",
          "UsbEmul6064": "platform-default",
          "UsbPortFront": "platform-default",
          "UsbPortInternal": "platform-default",
          "UsbPortKvm": "platform-default",
          "UsbPortRear": "platform-default",
          "UsbPortSdCard": "platform-default",
          "UsbPortVmedia": "platform-default",
          "UsbXhciSupport": "platform-default",
          "VgaPriority": "platform-default",
          "VirtualNuma": "platform-default",
          "VmdEnable": "platform-default",
          "VolMemoryMode": "platform-default",
          "WorkLoadConfig": "platform-default",
          "XptPrefetch": "platform-default",
          "XptRemotePrefetch": "platform-default",
        }
    register: bios_policy
    when: server_cpu_type == "Intel"

  - name: "Configure AMD M6 Virtualization BIOS Policy"

    cisco.intersight.intersight_rest_api:
      <<: *api_info
      resource_path: /bios/Policies
      query_params:
        $filter: "Name eq '{{ name_of_bios_policy }}'"
      api_body: {
          "Name": "{{ name_of_bios_policy }}",
          "Description": "{{ description_of_bios_policy }}",

          "Organization": {
             "Moid": "{{ intersight_org.api_response.Moid }}"
           },
          Tags: [{Key: "configmode", Value: "ansible"},{Key: "prefix", Value: "{{ prefix }}"}],
          "AcsControlGpu1state": "platform-default",
          "AcsControlGpu2state": "platform-default",
          "AcsControlGpu3state": "platform-default",
          "AcsControlGpu4state": "platform-default",
          "AcsControlGpu5state": "platform-default",
          "AcsControlGpu6state": "platform-default",
          "AcsControlGpu7state": "platform-default",
          "AcsControlGpu8state": "platform-default",
          "AcsControlSlot11state": "platform-default",
          "AcsControlSlot12state": "platform-default",
          "AcsControlSlot13state": "platform-default",
          "AcsControlSlot14state": "platform-default",
          "AdjacentCacheLinePrefetch": "platform-default",
          "AdvancedMemTest": "platform-default",
          "AllUsbDevices": "platform-default",
          "Altitude": "platform-default",
          "AspmSupport": "platform-default",
          "AssertNmiOnPerr": "platform-default",
          "AssertNmiOnSerr": "platform-default",
          "AutoCcState": "platform-default",
          "AutonumousCstateEnable": "platform-default",
          "BaudRate": "platform-default",
          "BmeDmaMitigation": "platform-default",
          "BootOptionNumRetry": "platform-default",
          "BootOptionReCoolDown": "platform-default",
          "BootOptionRetry": "platform-default",
          "BootPerformanceMode": "platform-default",
          "BurstAndPostponedRefresh": "platform-default",
          "C1autoDemotion": "platform-default",
          "C1autoUnDemotion": "platform-default",
          "CbsCmnApbdis": "1",
          "CbsCmnCpuCpb": "platform-default",
          "CbsCmnCpuGenDowncoreCtrl": "platform-default",
          "CbsCmnCpuGlobalCstateCtrl": "platform-default",
          "CbsCmnCpuL1streamHwPrefetcher": "platform-default",
          "CbsCmnCpuL2streamHwPrefetcher": "platform-default",
          "CbsCmnCpuSmee": "platform-default",
          "CbsCmnCpuStreamingStoresCtrl": "platform-default",
          "CbsCmnDeterminismSlider": "Power",
          "CbsCmnEfficiencyModeEn": "platform-default",
          "CbsCmnFixedSocPstate": "P0",
          "CbsCmnGnbNbIommu": "platform-default",
          "CbsCmnGnbSmuDfCstates": "platform-default",
          "CbsCmnGnbSmucppc": "platform-default",
          "CbsCmnMemCtrlBankGroupSwapDdr4": "platform-default",
          "CbsCmnMemMapBankInterleaveDdr4": "platform-default",
          "CbsCmncTdpCtl": "platform-default",
          "CbsCpuCcdCtrlSsp": "platform-default",
          "CbsCpuCoreCtrl": "platform-default",
          "CbsCpuSmtCtrl": "platform-default",
          "CbsDbgCpuSnpMemCover": "platform-default",
          "CbsDbgCpuSnpMemSizeCover": "platform-default",
          "CbsDfCmnAcpiSratL3numa": "enabled",
          "CbsDfCmnDramNps": "NPS4",
          "CbsDfCmnMemIntlv": "platform-default",
          "CbsDfCmnMemIntlvSize": "platform-default",
          "CbsSevSnpSupport": "platform-default",
          "CdnEnable": "enabled",
          "CdnSupport": "platform-default",
          "ChannelInterLeave": "platform-default",
          "CiscoAdaptiveMemTraining": "platform-default",
          "CiscoDebugLevel": "platform-default",
          "CiscoOpromLaunchOptimization": "platform-default",
          "CiscoXgmiMaxSpeed": "platform-default",
          "CkeLowPolicy": "platform-default",
          "ClosedLoopThermThrotl": "platform-default",
          "CmciEnable": "platform-default",
          "ConfigTdp": "platform-default",
          "ConfigTdpLevel": "platform-default",
          "ConsoleRedirection": "platform-default",
          "CoreMultiProcessing": "platform-default",
          "CpuEnergyPerformance": "platform-default",
          "CpuFrequencyFloor": "platform-default",
          "CpuPerfEnhancement": "platform-default",
          "CpuPerformance": "platform-default",
          "CpuPowerManagement": "platform-default",
          "CrQos": "platform-default",
          "CrfastgoConfig": "platform-default",
          "DcpmmFirmwareDowngrade": "platform-default",
          "DemandScrub": "platform-default",
          "DirectCacheAccess": "platform-default",
          "DramClockThrottling": "platform-default",
          "DramRefreshRate": "platform-default",
          "DramSwThermalThrottling": "platform-default",
          "EadrSupport": "platform-default",
          "EdpcEn": "platform-default",
          "EnableClockSpreadSpec": "platform-default",
          "EnableMktme": "platform-default",
          "EnableSgx": "platform-default",
          "EnableTme": "platform-default",
          "EnergyEfficientTurbo": "platform-default",
          "EngPerfTuning": "platform-default",
          "EnhancedIntelSpeedStepTech": "platform-default",
          "EpochUpdate": "platform-default",
          "EppEnable": "platform-default",
          "EppProfile": "platform-default",
          "ExecuteDisableBit": "platform-default",
          "ExtendedApic": "platform-default",
          "FlowControl": "platform-default",
          "Frb2enable": "platform-default",
          "HardwarePrefetch": "platform-default",
          "HwpmEnable": "platform-default",
          "ImcInterleave": "platform-default",
          "IntelDynamicSpeedSelect": "platform-default",
          "IntelHyperThreadingTech": "platform-default",
          "IntelSpeedSelect": "platform-default",
          "IntelTurboBoostTech": "platform-default",
          "IntelVirtualizationTechnology": "platform-default",
          "IntelVtForDirectedIo": "platform-default",
          "IntelVtdCoherencySupport": "platform-default",
          "IntelVtdInterruptRemapping": "platform-default",
          "IntelVtdPassThroughDmaSupport": "platform-default",
          "IntelVtdatsSupport": "platform-default",
          "IohErrorEnable": "platform-default",
          "IohResource": "platform-default",
          "IpPrefetch": "platform-default",
          "Ipv4http": "platform-default",
          "Ipv4pxe": "platform-default",
          "Ipv6http": "platform-default",
          "Ipv6pxe": "platform-default",
          "KtiPrefetch": "platform-default",
          "LegacyOsRedirection": "platform-default",
          "LegacyUsbSupport": "platform-default",
          "LlcAlloc": "platform-default",
          "LlcPrefetch": "platform-default",
          "LomPort0state": "platform-default",
          "LomPort1state": "platform-default",
          "LomPort2state": "platform-default",
          "LomPort3state": "platform-default",
          "LomPortsAllState": "platform-default",
          "LvDdrMode": "platform-default",
          "MakeDeviceNonBootable": "platform-default",
          "MemoryBandwidthBoost": "platform-default",
          "MemoryInterLeave": "platform-default",
          "MemoryMappedIoAbove4gb": "platform-default",
          "MemoryRefreshRate": "platform-default",
          "MemorySizeLimit": "platform-default",
          "MemoryThermalThrottling": "platform-default",
          "MirroringMode": "platform-default",
          "MmcfgBase": "platform-default",
          "NetworkStack": "platform-default",
          "NumaOptimized": "platform-default",
          "NvmdimmPerformConfig": "platform-default",
          "Onboard10gbitLom": "platform-default",
          "OnboardGbitLom": "platform-default",
          "OnboardScuStorageSupport": "platform-default",
          "OnboardScuStorageSwStack": "platform-default",
          "OperationMode": "platform-default",
          "OsBootWatchdogTimer": "platform-default",
          "OsBootWatchdogTimerPolicy": "platform-default",
          "OsBootWatchdogTimerTimeout": "platform-default",
          "OutOfBandMgmtPort": "platform-default",
          "PackageCstateLimit": "platform-default",
          "PanicHighWatermark": "platform-default",
          "PartialCacheLineSparing": "platform-default",
          "PartialMirrorModeConfig": "platform-default",
          "PartialMirrorPercent": "platform-default",
          "PartialMirrorValue1": "platform-default",
          "PartialMirrorValue2": "platform-default",
          "PartialMirrorValue3": "platform-default",
          "PartialMirrorValue4": "platform-default",
          "PatrolScrub": "platform-default",
          "PatrolScrubDuration": "platform-default",
          "PcIeRasSupport": "platform-default",
          "PcIeSsdHotPlugSupport": "platform-default",
          "PchUsb30mode": "platform-default",
          "PciOptionRoMs": "platform-default",
          "PciRomClp": "platform-default",
          "PcieAriSupport": "platform-default",
          "PciePllSsc": "platform-default",
          "PcieSlotMraid1linkSpeed": "platform-default",
          "PcieSlotMraid1optionRom": "platform-default",
          "PcieSlotMraid2linkSpeed": "platform-default",
          "PcieSlotMraid2optionRom": "platform-default",
          "PcieSlotMstorraidLinkSpeed": "platform-default",
          "PcieSlotMstorraidOptionRom": "platform-default",
          "PcieSlotNvme1linkSpeed": "platform-default",
          "PcieSlotNvme1optionRom": "platform-default",
          "PcieSlotNvme2linkSpeed": "platform-default",
          "PcieSlotNvme2optionRom": "platform-default",
          "PcieSlotNvme3linkSpeed": "platform-default",
          "PcieSlotNvme3optionRom": "platform-default",
          "PcieSlotNvme4linkSpeed": "platform-default",
          "PcieSlotNvme4optionRom": "platform-default",
          "PcieSlotNvme5linkSpeed": "platform-default",
          "PcieSlotNvme5optionRom": "platform-default",
          "PcieSlotNvme6linkSpeed": "platform-default",
          "PcieSlotNvme6optionRom": "platform-default",
          "PcieSlotsCdnEnable": "platform-default",
          "PopSupport": "platform-default",
          "PostErrorPause": "platform-default",
          "PostPackageRepair": "platform-default",
          "ProcessorC1e": "platform-default",
          "ProcessorC3report": "platform-default",
          "ProcessorC6report": "platform-default",
          "ProcessorCstate": "platform-default",
          "Psata": "platform-default",
          "PstateCoordType": "platform-default",
          "PuttyKeyPad": "platform-default",
          "PwrPerfTuning": "platform-default",
          "QpiLinkFrequency": "platform-default",
          "QpiLinkSpeed": "platform-default",
          "QpiSnoopMode": "platform-default",
          "RankInterLeave": "platform-default",
          "RedirectionAfterPost": "platform-default",
          "SataModeSelect": "platform-default",
          "SelectMemoryRasConfiguration": "platform-default",
          "SelectPprType": "platform-default",
          "SerialPortAenable": "platform-default",
          "Sev": "platform-default",
          "SgxAutoRegistrationAgent": "platform-default",
          "SgxEpoch0": "platform-default",
          "SgxEpoch1": "platform-default",
          "SgxFactoryReset": "platform-default",
          "SgxLePubKeyHash0": "platform-default",
          "SgxLePubKeyHash1": "platform-default",
          "SgxLePubKeyHash2": "platform-default",
          "SgxLePubKeyHash3": "platform-default",
          "SgxLeWr": "platform-default",
          "SgxPackageInfoInBandAccess": "platform-default",
          "SgxQos": "platform-default",
          "Sha1pcrBank": "platform-default",
          "Sha256pcrBank": "platform-default",
          "SinglePctlEnable": "platform-default",
          "Slot10linkSpeed": "platform-default",
          "Slot10state": "platform-default",
          "Slot11linkSpeed": "platform-default",
          "Slot11state": "platform-default",
          "Slot12linkSpeed": "platform-default",
          "Slot12state": "platform-default",
          "Slot13state": "platform-default",
          "Slot14state": "platform-default",
          "Slot1linkSpeed": "platform-default",
          "Slot1state": "platform-default",
          "Slot2linkSpeed": "platform-default",
          "Slot2state": "platform-default",
          "Slot3linkSpeed": "platform-default",
          "Slot3state": "platform-default",
          "Slot4linkSpeed": "platform-default",
          "Slot4state": "platform-default",
          "Slot5linkSpeed": "platform-default",
          "Slot5state": "platform-default",
          "Slot6linkSpeed": "platform-default",
          "Slot6state": "platform-default",
          "Slot7linkSpeed": "platform-default",
          "Slot7state": "platform-default",
          "Slot8linkSpeed": "platform-default",
          "Slot8state": "platform-default",
          "Slot9linkSpeed": "platform-default",
          "Slot9state": "platform-default",
          "SlotFlomLinkSpeed": "platform-default",
          "SlotFrontNvme10linkSpeed": "platform-default",
          "SlotFrontNvme10optionRom": "platform-default",
          "SlotFrontNvme11linkSpeed": "platform-default",
          "SlotFrontNvme11optionRom": "platform-default",
          "SlotFrontNvme12linkSpeed": "platform-default",
          "SlotFrontNvme12optionRom": "platform-default",
          "SlotFrontNvme13optionRom": "platform-default",
          "SlotFrontNvme14optionRom": "platform-default",
          "SlotFrontNvme15optionRom": "platform-default",
          "SlotFrontNvme16optionRom": "platform-default",
          "SlotFrontNvme17optionRom": "platform-default",
          "SlotFrontNvme18optionRom": "platform-default",
          "SlotFrontNvme19optionRom": "platform-default",
          "SlotFrontNvme1linkSpeed": "platform-default",
          "SlotFrontNvme1optionRom": "platform-default",
          "SlotFrontNvme20optionRom": "platform-default",
          "SlotFrontNvme21optionRom": "platform-default",
          "SlotFrontNvme22optionRom": "platform-default",
          "SlotFrontNvme23optionRom": "platform-default",
          "SlotFrontNvme24optionRom": "platform-default",
          "SlotFrontNvme2linkSpeed": "platform-default",
          "SlotFrontNvme2optionRom": "platform-default",
          "SlotFrontNvme3linkSpeed": "platform-default",
          "SlotFrontNvme3optionRom": "platform-default",
          "SlotFrontNvme4linkSpeed": "platform-default",
          "SlotFrontNvme4optionRom": "platform-default",
          "SlotFrontNvme5linkSpeed": "platform-default",
          "SlotFrontNvme5optionRom": "platform-default",
          "SlotFrontNvme6linkSpeed": "platform-default",
          "SlotFrontNvme6optionRom": "platform-default",
          "SlotFrontNvme7linkSpeed": "platform-default",
          "SlotFrontNvme7optionRom": "platform-default",
          "SlotFrontNvme8linkSpeed": "platform-default",
          "SlotFrontNvme8optionRom": "platform-default",
          "SlotFrontNvme9linkSpeed": "platform-default",
          "SlotFrontNvme9optionRom": "platform-default",
          "SlotFrontSlot5linkSpeed": "platform-default",
          "SlotFrontSlot6linkSpeed": "platform-default",
          "SlotGpu1state": "platform-default",
          "SlotGpu2state": "platform-default",
          "SlotGpu3state": "platform-default",
          "SlotGpu4state": "platform-default",
          "SlotGpu5state": "platform-default",
          "SlotGpu6state": "platform-default",
          "SlotGpu7state": "platform-default",
          "SlotGpu8state": "platform-default",
          "SlotHbaLinkSpeed": "platform-default",
          "SlotHbaState": "platform-default",
          "SlotLom1link": "platform-default",
          "SlotLom2link": "platform-default",
          "SlotMezzState": "platform-default",
          "SlotMlomLinkSpeed": "platform-default",
          "SlotMlomState": "platform-default",
          "SlotMraidLinkSpeed": "platform-default",
          "SlotMraidState": "platform-default",
          "SlotN10state": "platform-default",
          "SlotN11state": "platform-default",
          "SlotN12state": "platform-default",
          "SlotN13state": "platform-default",
          "SlotN14state": "platform-default",
          "SlotN15state": "platform-default",
          "SlotN16state": "platform-default",
          "SlotN17state": "platform-default",
          "SlotN18state": "platform-default",
          "SlotN19state": "platform-default",
          "SlotN1state": "platform-default",
          "SlotN20state": "platform-default",
          "SlotN21state": "platform-default",
          "SlotN22state": "platform-default",
          "SlotN23state": "platform-default",
          "SlotN24state": "platform-default",
          "SlotN2state": "platform-default",
          "SlotN3state": "platform-default",
          "SlotN4state": "platform-default",
          "SlotN5state": "platform-default",
          "SlotN6state": "platform-default",
          "SlotN7state": "platform-default",
          "SlotN8state": "platform-default",
          "SlotN9state": "platform-default",
          "SlotRaidLinkSpeed": "platform-default",
          "SlotRaidState": "platform-default",
          "SlotRearNvme1linkSpeed": "platform-default",
          "SlotRearNvme1state": "platform-default",
          "SlotRearNvme2linkSpeed": "platform-default",
          "SlotRearNvme2state": "platform-default",
          "SlotRearNvme3linkSpeed": "platform-default",
          "SlotRearNvme3state": "platform-default",
          "SlotRearNvme4linkSpeed": "platform-default",
          "SlotRearNvme4state": "platform-default",
          "SlotRearNvme5state": "platform-default",
          "SlotRearNvme6state": "platform-default",
          "SlotRearNvme7state": "platform-default",
          "SlotRearNvme8state": "platform-default",
          "SlotRiser1linkSpeed": "platform-default",
          "SlotRiser1slot1linkSpeed": "platform-default",
          "SlotRiser1slot2linkSpeed": "platform-default",
          "SlotRiser1slot3linkSpeed": "platform-default",
          "SlotRiser2linkSpeed": "platform-default",
          "SlotRiser2slot4linkSpeed": "platform-default",
          "SlotRiser2slot5linkSpeed": "platform-default",
          "SlotRiser2slot6linkSpeed": "platform-default",
          "SlotSasState": "platform-default",
          "SlotSsdSlot1linkSpeed": "platform-default",
          "SlotSsdSlot2linkSpeed": "platform-default",
          "Smee": "platform-default",
          "SmtMode": "platform-default",
          "Snc": "platform-default",
          "SnoopyModeFor2lm": "platform-default",
          "SnoopyModeForAd": "platform-default",
          "SparingMode": "platform-default",
          "SrIov": "platform-default",
          "StreamerPrefetch": "platform-default",
          "SvmMode": "platform-default",
          "TerminalType": "platform-default",
          "TpmControl": "platform-default",
          "TpmPendingOperation": "platform-default",
          "TpmSupport": "platform-default",
          "Tsme": "platform-default",
          "TxtSupport": "platform-default",
          "UcsmBootOrderRule": "platform-default",
          "UfsDisable": "platform-default",
          "UmaBasedClustering": "platform-default",
          "UpiLinkEnablement": "platform-default",
          "UpiPowerManagement": "platform-default",
          "UsbEmul6064": "platform-default",
          "UsbPortFront": "platform-default",
          "UsbPortInternal": "platform-default",
          "UsbPortKvm": "platform-default",
          "UsbPortRear": "platform-default",
          "UsbPortSdCard": "platform-default",
          "UsbPortVmedia": "platform-default",
          "UsbXhciSupport": "platform-default",
          "VgaPriority": "platform-default",
          "VirtualNuma": "platform-default",
          "VmdEnable": "platform-default",
          "VolMemoryMode": "platform-default",
          "WorkLoadConfig": "platform-default",
          "XptPrefetch": "platform-default",
          "XptRemotePrefetch": "platform-default",
        }
    register: bios_policy
    when: server_cpu_type == "AMD"
